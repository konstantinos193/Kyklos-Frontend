name: Lock Closed Issues and PRs

on:
  schedule:
    - cron: '0 0 * * *'  # Daily at midnight UTC
  workflow_dispatch:

jobs:
  lock:
    runs-on: ubuntu-latest
    permissions:
      issues: write
      pull-requests: write
      
    steps:
    - uses: dessant/lock-threads@v6
      with:
        github-token: ${{ secrets.GITHUB_TOKEN }}
        issue-lock-inactive-days: 30
        pr-lock-inactive-days: 30
        issue-comment: >
          This issue has been automatically locked since there has not been
          any recent activity after it was closed. Please open a new issue
          for related bugs.
        pr-comment: >
          This pull request has been automatically locked since there has not
          been any recent activity after it was closed. Please open a new
          pull request for related changes.
        issue-lock-reason: 'resolved'
        pr-lock-reason: 'resolved'
        exclude-issue-created-before: ''
        exclude-pr-created-before: ''
        exclude-issue-closed-before: ''
        exclude-pr-closed-before: ''
        include-issue-closed-issue-criteria: 'all'
        include-pr-closed-pr-criteria: 'all'
        skip-fork-prs: false
        log-output: true
